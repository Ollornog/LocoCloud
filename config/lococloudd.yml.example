# config/lococloudd.yml.example
# =====================================================================
# GLOBALE LOCOCLOUDD-KONFIGURATION
# Kopiere diese Datei nach config/lococloudd.yml und passe sie an.
# Diese Datei wird in .gitignore aufgenommen!
# =====================================================================

# --- Betreiber ---
operator:
  name: "Dein Name"
  email: "admin@example.com"
  domain: "example.com"

# --- Admin-Subdomain ---
admin:
  subdomain: "admin"
  full_domain: "admin.example.com"

# --- Admin-Dienste URLs ---
urls:
  pocketid: "id.admin.example.com"
  tinyauth: "auth.admin.example.com"
  vaultwarden: "vault.admin.example.com"
  semaphore: "deploy.admin.example.com"
  zabbix: "monitor.admin.example.com"

# --- Netbird (geteilter Manager) ---
netbird:
  manager_url: "https://netbird.example.com"
  api_token: ""                              # Netbird API Token (NICHT im Repo!)

# --- PocketID (Admin-Instanz) ---
pocketid:
  api_token: ""                              # PocketID REST-API Token
  # Wird fuer User/Gruppen/OIDC-Client-Automation benoetigt

# --- SMTP ---
smtp:
  host: "smtp.example.com"
  port: 587
  starttls: true
  user: "user@example.com"
  from: "noreply@example.com"
  # Passwort: Ueber Vault oder Umgebungsvariable

# --- GitHub Repo ---
repo:
  url: "https://github.com/Ollornog/LocoCloud.git"
  branch: "main"

# --- Vaultwarden (Admin-Instanz) ---
vaultwarden:
  url: "https://vault.admin.example.com"
  api_token_path: "/root/.loco-vaultwarden-token"  # Pfad zum API-Token auf dem Master
  organization_id: ""                          # Wird nach Setup eingetragen

# --- Bitwarden CLI (fuer Ansible Vault Passwort + Lookup-Plugin) ---
bitwarden_cli:
  # Das Ansible-Vault-Passwort wird via scripts/vault-pass.sh aus Vaultwarden geholt.
  # Voraussetzung: bw CLI installiert, BITWARDENCLI_APPDATA_DIR konfiguriert
  server_url: "https://vault.admin.example.com"  # Muss auf die Vaultwarden-Instanz zeigen
  vault_item_name: "lococloudd-ansible-vault"     # Name des Items mit dem Vault-Passwort

# --- Oeffentlicher Einstiegspunkt fuer Admin-Dienste ---
admin_gateway:
  # Server der *.admin.example.com via Caddy + Netbird an den Master weiterleitet
  public_ip: ""                                # z.B. "203.0.113.10"
  # DNS: *.admin.example.com -> A-Record auf diese IP

# --- Netbird Server (optional, fuer Self-Hosting) ---
# netbird_server:
#   self_hosted: false                          # true wenn eigener Netbird-Server
#   domain: "netbird.example.com"              # Domain fuer Netbird Management UI
#   relay_domain: "relay.example.com"          # Domain fuer Relay
