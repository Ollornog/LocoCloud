# GENERIERT DURCH ANSIBLE â€” NICHT MANUELL EDITIEREN
CMD_DOMAIN={{ hedgedoc_domain }}
CMD_PROTOCOL_USESSL=true
CMD_URL_ADDPORT=false
CMD_DB_URL=postgresql://{{ hedgedoc_db_user }}:{{ hedgedoc_db_password }}@hedgedoc-db:5432/{{ hedgedoc_db_name }}
CMD_SESSION_SECRET={{ hedgedoc_session_secret }}
CMD_ALLOW_ANONYMOUS=false
CMD_ALLOW_ANONYMOUS_EDITS=true
CMD_EMAIL=false
CMD_ALLOW_EMAIL_REGISTER=false
{% if hedgedoc_oidc_enabled and hedgedoc_oidc_client_id | length > 0 %}
# OIDC Configuration
CMD_OAUTH2_PROVIDERNAME=PocketID
CMD_OAUTH2_CLIENT_ID={{ hedgedoc_oidc_client_id }}
CMD_OAUTH2_CLIENT_SECRET={{ hedgedoc_oidc_client_secret }}
CMD_OAUTH2_AUTHORIZATION_URL={{ hedgedoc_oidc_provider_url }}/authorize
CMD_OAUTH2_TOKEN_URL={{ hedgedoc_oidc_provider_url }}/token
CMD_OAUTH2_USER_PROFILE_URL={{ hedgedoc_oidc_provider_url }}/userinfo
CMD_OAUTH2_SCOPE=openid profile email
CMD_OAUTH2_USER_PROFILE_USERNAME_ATTR=preferred_username
CMD_OAUTH2_USER_PROFILE_DISPLAY_NAME_ATTR=name
CMD_OAUTH2_USER_PROFILE_EMAIL_ATTR=email
{% endif %}
